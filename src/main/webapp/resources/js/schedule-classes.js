var ScheduleTime=function(){var a=this;this.timeInit=moment(),this.timeEnd=moment();a.__construct=function(b,c,d,e,f){this.timeInit=moment(b.getTime()),this.timeEnd=moment(b.getTime()),a.setTimeInit(b,c,d),a.setTimeEnd(b,e,f)},a.setPatient=function(b){a.patient=b},a.getPatient=function(){return a.patient},a.getComment=function(){return a.comment},a.setComment=function(b){a.comment=b},a.setRating=function(b){a.rating=b},a.getRating=function(){return a.rating},a.setState=function(b){a.state=b},a.getState=function(){return a.state},a.setId=function(b){a.id=b},a.getId=function(){return a.id},a.setTimeInit=function(a,b,c){this.timeInit.hours(b),this.timeInit.minutes(c)},a.getTimeInit=function(){return this.timeInit.format("HH:mm")},a.setTimeEnd=function(a,b,c){this.timeEnd.hours(b),this.timeEnd.minutes(c)},a.getTimeEnd=function(){return this.timeEnd.format("HH:mm")},a.getDateInit=function(){return this.timeInit.format("DD/MM/YYYY")},a.getDateEnd=function(){return this.timeEnd.format("DD/MM/YYYY")},a.toEmail=function(){return this.timeInit.format("DD/MM/YYYY")+" "+this.timeInit.format("HH:mm")+" às "+this.timeEnd.format("HH:mm")},ScheduleTime.prototype.toJSON=function(){return{id:this.id,timeInit:this.timeInit.format("HH:mm"),timeEnd:this.timeEnd.format("HH:mm")}}},ScheduleDay=function(){var a=this;this.listSchedules=[],a.setDate=function(b){a.date=b},a.getDate=function(){return a.date},a.addSchedule=function(a,b,c,d,e,f,g,h,i,j){var k=new ScheduleTime;f=f?f:"Sem Estado",g=g?g:"Sem Nota",h=h?h:"Sem comentário cadastrádo!",i=i?i:null,k.setRating(g),k.setState(f),k.setComment(h),k.setId(i),k.setPatient(j),k.__construct(a,b,c,d,e),this.listSchedules.push(k)},a.isSheduleDayRegistered=function(){return this.listSchedules.some(function(a){return!!a.getId()})},a.showListSchedules=function(){this.listSchedules.forEach(function(a,b,c){console.log(JSON.stringify(a))})},a.clearListSchedules=function(){this.listSchedules=[]},a.getListSchedules=function(){return this.listSchedules},a.getScheduleTimeById=function(a){var b=null;return this.listSchedules.forEach(function(c){c.getId()==a&&(b=c)}),b},a.removeScheduleTimeById=function(a){this.listSchedules=this.listSchedules.filter(function(b){return!(b==a)})},ScheduleDay.prototype.toJSON=function(){return{date:this.date,schedules:this.listSchedules}}},ScheduleManager=function(){var a=this,b=new Map;a.addScheduleDay=function(a,c){b.set(a,c)},a.addNewScheduleTime=function(c,d,e,f,g,h,i,j,k,l){var m=moment(c).format("DD/MM/YYYY"),n=b.get(m);if(n)n.addSchedule(c,d,e,f,g,h,i,j,k,l);else{var o=new ScheduleDay;o.setDate(m),o.addSchedule(c,d,e,f,g,h,i,j,k,l),a.addScheduleDay(m,o)}},a.removeScheduleDay=function(a){b.delete(a)},a.clearSchedules=function(){b.clear()},a.getSchedulesMap=function(){return b},a.updateSchedules=function(a){for(var c=new Map,d=a.keys(),e=0;e<a.size;e++){date=d.next().value;b.get(date);b.has(date)&&c.set(date,b.get(date))}b.forEach(function(a,b){a.isSheduleDayRegistered()&&c.set(b,a)}),b=c},a.isScheduleRegistered=function(a){var c=b.get(a);return!!c&&c.listSchedules.length>0},a.getScheduleDay=function(a){return b.get(a)},a.getScheduleDayAsJSON=function(a){var c=[b.get(a)];return{data:c}},a.getScheduleTimeById=function(a){var c={patient:null};return b.forEach(function(b){var d=b.getScheduleTimeById(a);d&&(c=d)}),c},ScheduleManager.prototype.toJSON=function(){var a=[];return b.forEach(function(b,c,d){a.push(b)}),{data:a}}};